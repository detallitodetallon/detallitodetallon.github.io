!function(){var e=[,function(e,t,o){"use strict";o.r(t);var n=o(2);async function r(e,t,o){try{const r=await fetch(e);let a=await r.text();a=a.replace(/{{domain}}/g,(0,n.getDomain)()),document.getElementById(t).innerHTML+=a,o&&o()}catch(e){console.error(`Error loading component ${t}:`,e)}}document.addEventListener("DOMContentLoaded",(async()=>{try{await async function(){try{const e=await fetch(`${(0,n.getDomain)()}/parts/head.html`);let t=await e.text();t=t.replace(/{{domain}}/g,(0,n.getDomain)()),t="undefined"!=typeof pageTitle?t.replace("{{pageTitle}}",pageTitle):t.replace("{{pageTitle}}",""),document.head.innerHTML+=t}catch(e){throw console.error("Error loading head:",e),e}}(),await Promise.all([r(`${(0,n.getDomain)()}/parts/banner-top.html`,"banner-top"),r(`${(0,n.getDomain)()}/parts/nav.html`,"navegador",n.setActiveNavLink),r(`${(0,n.getDomain)()}/parts/pasos-compra.html`,"pasos-compra"),r(`${(0,n.getDomain)()}/parts/footer.html`,"footer")]),document.body.classList.contains("index")}catch(e){console.error("Error loading head or components:",e)}finally{setTimeout((()=>{document.getElementById("main").style.display=""}),300)}}))},function(e,t,o){"use strict";function n(){const e=document.querySelectorAll(".navlista a"),t=window.location.pathname;e.forEach((e=>{e.getAttribute("href")==="."+t&&e.classList.add("active")}))}function r(e){Object.keys(e).forEach((t=>{e[t].sort(((e,t)=>parseFloat(e.precio.replace("S/.","").trim())-parseFloat(t.precio.replace("S/.","").trim())))}))}function a(){return window.location.origin}o.r(t),o.d(t,{getDomain:function(){return a},orderPrice:function(){return r},setActiveNavLink:function(){return n}})},function(e,t,o){"use strict";o.r(t),o.d(t,{dataPedido:function(){return s},fetchTemplate:function(){return a},generateProductHtml:function(){return d},handlePeluches:function(){return h},handlePeluchesAdd:function(){return g},handleProducto:function(){return u},handleProductoSeleccionado:function(){return m},handleVinil:function(){return v},hideEmptyModals:function(){return l},initializeModals:function(){return c},whatsappUrl:function(){return i}});var n=o(4),r=o(2);const a=async()=>{try{const e=await fetch(`${(0,r.getDomain)()}/parts/grilla-tabs.html`);return await e.text()}catch(e){throw console.error("Error fetching grilla-tabs.html:",e),e}},c=()=>{document.querySelectorAll(".modal").forEach((e=>new bootstrap.Modal(e)))};function i(e){let t="https://api.whatsapp.com/send?phone=51940541547&text=";t+="Pedido de compra:",t+=`%0A(*)Arreglo: ${e.producto.nombre} (SKU:${e.producto.sku}) - S/${e.producto.precio}`,0!==e.peluche.precio?t+=`%0A(*)Peluche: ${e.peluche.nombre} (SKU:${e.peluche.sku}) - S/${e.peluche.precio}`:t+="%0A(*)Peluche: No incluye peluche",0!==e.vinil.precio?t+=`%0A(*)Mensaje: "${e.vinil.mensaje}" - S/${e.vinil.precio}`:t+="%0A(*)Mensaje: No incluye mensaje personalizado",t+=`%0A(*)Precio Total: S/${e.precioTotal}`,e.enlace.href=t}function l(){const e=document.querySelectorAll(".modal-contenido"),t=document.querySelectorAll(".modal-video");e.forEach((e=>{0===e.querySelector("ul").children.length&&(e.style.display="none")})),t.forEach((e=>{const t=window.location,o=e.querySelector(".video-enlace").getAttribute("href");o&&o!==t&&""!==o||(e.style.display="none")}))}const s={producto:{nombre:"",sku:"",precio:0},peluche:{nombre:"",sku:"",precio:0},vinil:{mensaje:"",precio:0},get precioTotal(){return(parseFloat(this.producto.precio)+parseFloat(this.peluche.precio)+parseFloat(this.vinil.precio)).toFixed(2)},enlace:""},d=(e,t,o,n,r)=>e.replace(/{{cols}}/g,"col-xl-4 col-lg-4 col-md-6 col-12").replace(/{{imagen}}/g,t.thumbnail).replace(/{{nombre}}/g,t.nombre).replace(/{{precio}}/g,t.precio).replace(/{{notas}}/g,t.notas).replace(/{{sku}}/g,t.sku).replace(/{{peluche}}/g,t.pelucheSku),u=()=>{document.querySelectorAll(".producto-item").forEach((e=>{e.addEventListener("click",p)}))},p=e=>{const t=e.currentTarget.getAttribute("data-sku"),o=window.location.origin+window.location.pathname;window.location.href=`${o}arreglo?sku=${t}`},m=e=>{const t=document.querySelector(".producto-title"),o=document.querySelector(".producto-precio"),n=parseFloat(o.dataset.precio.replace("S/.","").trim());s.producto.nombre=t.dataset.nombre,s.producto.sku=t.dataset.sku,s.producto.precio=n.toFixed(2),s.peluche.nombre="",s.peluche.sku="",s.peluche.precio=0,s.vinil.mensaje="",s.vinil.precio=0,s.enlace=""},h=async()=>{try{const e=await(0,n.fetchPeluches)(),t=document.getElementById("producto-pedido").querySelector(".wsp-pedido"),o=document.getElementById("precio-total"),r=document.getElementById("producto-peluches"),a=r.querySelector(".carousel-inner");f(e,a,o,t,r)}catch(e){console.error("Error fetching peluches:",e)}},g=async()=>{try{const e=await(0,n.fetchPeluches)();document.querySelectorAll(".producto-item").forEach((t=>{const o=t.getAttribute("data-peluche-sku")?.trim(),n=t.querySelector(".precio");if(!n)return;const r=n.getAttribute("data-precio")||"S/.0.00",a=parseFloat(r.replace("S/.","").trim())||0;if(!o||"all"===o.toLowerCase())return n.setAttribute("data-precio-peluche","0.00"),void(n.textContent=`S/. ${a.toFixed(2)}`);const c=e.find((e=>e.sku===o));if(c){const e=c.precio||"S/.0.00",t=parseFloat(e.replace("S/.","").trim())||0,o=a+t;n.setAttribute("data-precio-peluche",t.toFixed(2)),n.textContent=`S/. ${o.toFixed(2)}`}else console.warn(`Peluche con SKU "${o}" no encontrado.`),n.setAttribute("data-precio-peluche","0.00"),n.textContent=`S/. ${a.toFixed(2)}`}))}catch(e){console.error("Error en handlePeluchesAdd:",e)}},f=(e,t,o,n,r)=>{let a="";const c=e.filter((e=>e.unidades>0));c.forEach(((e,t)=>{t%2==0&&(t>0&&(a+="</div>"),a+=`<div class="row carousel-item ${0===t?"active":""}">`),a+=`\n            <div class="col-6 peluche" data-id="${e.sku}" data-precio="${e.precio}" data-nombre="Peluche ${e.nombre}" data-sku="${e.sku}">\n                <img src="${e.imagen}" class="d-block w-100" alt="${e.nombre}">\n                <div class="info-peluche">\n                    <h5 class="nombre">${e.nombre}</h5>\n                    <p class="precio">${e.precio}</p>\n                    <p class="tamanio">Medidas:<br /> ${e.altura}</p>\n                    <button class="select-peluche">Agregar</button>\n                </div>\n            </div>\n        `,t===c.length-1&&(a+="</div>")})),t.innerHTML=a,y(t,o,n,r)},y=(e,t,o,n)=>{const r=e.querySelectorAll(".peluche"),a=document.getElementById("row-peluche"),c=a.querySelector("#nombre-peluche"),l=a.querySelector("#precio-peluche"),d=document.getElementById("producto-precio");r.forEach((e=>{e.addEventListener("click",(()=>{const n=e.dataset.precio,u=parseFloat(n.replace("S/.","").trim()),p=e.querySelector(".select-peluche");p.classList.contains("active")?(s.peluche.nombre="",s.peluche.sku="",s.peluche.precio=0,p.classList.remove("active"),p.innerText="Agregar",a.style.display="none",c.innerText="",l.innerText=""):(r.forEach((e=>{const t=e.querySelector(".select-peluche");t.classList.remove("active"),t.innerText="Agregar"})),s.peluche.nombre=e.dataset.nombre,s.peluche.sku=e.dataset.sku,s.peluche.precio=u.toFixed(2),p.classList.add("active"),p.innerText="Agregado",a.style.display="table-row",c.innerText=`Peluche: ${e.dataset.nombre} (SKU: ${e.dataset.sku})`,l.innerText=`S/.${u.toFixed(2)}`),d.dataset.precio=`S/.${s.precioTotal}`,setTimeout((()=>{d.innerHTML=`<p>${d.dataset.precio}</p>`}),200),t.innerText=`S/.${s.precioTotal}`,s.enlace=o,i(s)}))})),b(r,n,d),setTimeout((()=>{d.innerHTML=`<p>${d.dataset.precio}</p>`}),200)},b=(e,t,o)=>{document.getElementById("producto-precio").dataset.precio;const n=t.dataset.pelucheSku||"all";e.forEach((e=>{const t=e.dataset.sku;n===t&&setTimeout((()=>{const t=e.querySelector(".select-peluche");t&&t.click()}),100)}))},v=()=>{const e=document.getElementById("producto-vinil"),t=e.querySelector("#checkvinil"),o=e.querySelector(".textvinil"),n=o.querySelector("#textvinil"),r=document.getElementById("precio-total"),a=document.getElementById("producto-pedido").querySelector(".wsp-pedido"),c=document.getElementById("row-vinil"),l=c.querySelector("#nombre-vinil"),d=c.querySelector("#precio-vinil");o.style.display="none",t.addEventListener("change",(()=>{o.style.display=t.checked?"block":"none",t.checked||(n.value="",s.vinil.mensaje="",s.vinil.precio=0,c.style.display="none",l.innerText="",d.innerText=""),r.innerText=`S/.${s.precioTotal}`,s.enlace=a,i(s)})),n.addEventListener("input",(()=>{n.value.length>50&&(n.value=n.value.slice(0,50)),""==n.value?(s.vinil.mensaje="",s.vinil.precio=0,c.style.display="none",l.innerText="",d.innerText=""):(s.vinil.mensaje=n.value,s.vinil.precio=parseFloat(6).toFixed(2),c.style.display="table-row",l.innerText=`Mensaje: "${n.value}"`,d.innerText=`S/.${parseFloat(6).toFixed(2)}`),r.innerText=`S/.${s.precioTotal}`,s.enlace=a,i(s)}))}},function(e,t,o){"use strict";async function n(e,t){const o=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/1UeRsfG_I1Ai27zZuWNzL4CYHdP9gzCd49Sz1IkNBtmE/values/${e}!${t}?key=AIzaSyB0wl-sQaS72bOzVKBbsdgPKMK9_IYlUWA`);return(await o.json()).values.slice(1)}function r(e,t){if(e.includes("drive.google.com/file/d/")){return`https://drive.google.com/thumbnail?id=${e.match(/\/d\/(.*?)\//)[1]}&sz=w${t}`}return e}function a(e){return{id:e[0],thumbnail:e[1]?r(e[1],300):null,imagen:e[1]?r(e[1],1e3):null,nombre:e[2],precio:e[3],notas:e[4],descripcion:e[5],contenido:e[6]?e[6].split("; "):[],subcategorias:e[7]?e[7].split("; "):[],sku:e[8]?(t=e[8],t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")):null,destacado:"true"===e[9].toLowerCase(),visible:"true"===e[10].toLowerCase(),pelucheSku:e[11]?e[11]:"all"};var t}function c(e){return{id:e[0],imagen:r(e[1]),precio:e[2],nombre:e[3],altura:e[4],sku:e[5],unidades:e[6]}}async function i(){return(await n("Arreglos","A:L")).map(a).filter((e=>e.id))}async function l(){return(await n("Gigantes","A:L")).map(a).filter((e=>e.id))}async function s(){return(await n("Helios","A:L")).map(a).filter((e=>e.id))}async function d(){return(await n("Flores","A:L")).map(a).filter((e=>e.id))}async function u(){return(await n("Peluches","A:G")).map(c).filter((e=>e.id))}o.r(t),o.d(t,{fetchArreglos:function(){return i},fetchFlores:function(){return d},fetchGigantes:function(){return l},fetchHelios:function(){return s},fetchPeluches:function(){return u}})},function(e,t,o){"use strict";o.r(t);var n=o(4),r=o(3),a=o(2);document.addEventListener("DOMContentLoaded",(()=>{if(!document.getElementById("mostrador"))return;const e={globos:[],gigantes:[],flores:[],helio:[]},t=(e,t)=>{Object.keys(e).forEach((o=>{const n=document.querySelector(`#${o} .productos`);e[o].forEach(((e,a)=>{if(!e.id)return;const c=e.contenido.length>0?e.contenido.map((e=>`<li>${e}</li>`)).join(""):"";t.replace(/{{cols}}/g,"col-xxl-3 col-xl-4 col-lg-4 col-md-6 col-12").replace(/{{imagen}}/g,e.imagen).replace(/{{nombre}}/g,e.nombre).replace(/{{precio}}/g,e.precio).replace(/{{video}}/g,e.video).replace(/{{descripcion}}/g,e.descripcion).replace(/{{contenido}}/g,c).replace(/{{index}}/g,e.categoria+a).replace(/{{sku}}/g,e.sku);n.innerHTML+=(0,r.generateProductHtml)(t,e,o,a,c)}))}))},o=async()=>{try{const o=await(0,r.fetchTemplate)();await(async o=>{try{return(await(0,n.fetchProducts)()).forEach((t=>{t.destacado&&e[t.categoria].push(t)})),(0,a.orderPrice)(e),Object.keys(e).forEach((t=>{e[t]=e[t].slice(0,4)})),t(e,o),(0,r.initializeModals)(),e}catch(e){throw console.error("Error processing products:",e),e}})(o),(0,r.hideEmptyModals)(),(0,r.handleProducto)(),(0,r.handleVinil)(),await(0,r.handlePeluches)()}catch(e){console.error("Error initializing mostrador:",e)}};"index"===document.body.id&&o()}))},function(e,t,o){"use strict";o.r(t);var n=o(4),r=o(3),a=o(2);document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("catalogo");if(!e)return;const t=e.dataset.categoria,o=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,""),c=e=>{const t={};return e.forEach((e=>{!0===e.visible&&e.id&&e.subcategorias.forEach((o=>{t[o]||(t[o]=[]),t[o].push(e)}))})),t},i=(e,t,n,r)=>{Object.keys(e).sort().forEach(((a,c)=>{const i=`subcategoria-${o(a)}`,d=0===c,u=d?"active":"";t.appendChild(l(a,i,u,d)),n.appendChild(s(e[a],a,i,d,r))}))},l=(e,t,n,r)=>{const a=document.createElement("li");return a.classList.add("nav-item"),a.innerHTML=`\n            <button class="nav-link ${n}" id="${t}-tab" data-bs-toggle="pill"\n                data-bs-target="#${t}" data-parametro="${o(e)}" type="button" role="tab" aria-controls="${t}"\n                aria-selected="${r}"><i class="bi bi-arrow-right-short"></i> ${e}</button>\n        `,a},s=(e,t,n,a,c)=>{const i=document.createElement("div");i.classList.add("tab-pane","fade"),a&&i.classList.add("show","active"),i.id=n,i.setAttribute("role","tabpanel"),i.setAttribute("aria-labelledby",`${n}-tab`),i.setAttribute("tabindex","0");const l=document.createElement("div");return l.classList.add("row","productos"),i.appendChild(l),e.forEach(((e,n)=>{if(!e.id)return;const a=e.contenido.length>0?e.contenido.map((e=>`<li>${e}</li>`)).join(""):"";l.innerHTML+=(0,r.generateProductHtml)(c,e,o(t),n,a)})),i},d=async e=>{try{const t=await(0,r.fetchTemplate)();await(async(e,t)=>{try{const o=await t(),n=c(o);(0,a.orderPrice)(n);const r=document.getElementById("tab-subcategorias"),l=document.getElementById("content-subcategorias");return i(n,r,l,e),n}catch(e){throw console.error("Error processing products:",e),e}})(t,e),(()=>{const e=new Event("subcategorias-loaded");document.dispatchEvent(e)})(),(0,r.handleProducto)(),await(0,r.handlePeluchesAdd)()}catch(e){console.error("Error initializing mostrador:",e)}};"category-page"===document.body.id&&("globos"===t?d(n.fetchArreglos):"gigantes"===t?d(n.fetchGigantes):"helio"===t?d(n.fetchHelios):"flores"===t?d(n.fetchFlores):d())}))},function(e,t,o){"use strict";o.r(t);var n=o(4),r=o(3);document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("informacion-producto");if(!e)return;const t=e.dataset.categoria,o=async t=>{try{const o=await t(),n=new URLSearchParams(window.location.search).get("sku"),r=o.find((e=>e.sku===n));if(console.log(r),r&&!0===r.visible){document.getElementById("imagen-principal");a(e,r),c(),i(r)}else console.error("Producto no encontrado para el SKU:",n),window.location=window.location.origin+"/404"}catch(e){throw console.error("Error processing products:",e),e}finally{setTimeout((()=>{document.getElementById("informacion-producto").style.display=""}),300)}},a=(e,t)=>{Object.keys(t).forEach((o=>{Array.from(e.attributes).forEach((e=>{e.value.includes(`{{${o}}}`)&&(e.value=e.value.replace(`{{${o}}}`,t[o]))}));let n=t[o];"contenido"===o&&Array.isArray(t[o])&&(n=t[o].map((e=>`<li>${e}</li>`)).join("")),e.innerHTML=e.innerHTML.replace(new RegExp(`{{${o}}}`,"g"),n)}))},c=()=>{const e=document.getElementById("producto-contenido"),t=e.getAttribute("data-contenido");if(!t||""===t.trim())return void(e.style.display="none");console.log(t);e.querySelector("ul").appendChild.contenidoTexto},i=e=>{const t=document.getElementById("breadcrumbs"),o=window.location.pathname.split("/"),n=window.location.origin,r=n+"/"+o[1],a=e.subcategorias.map((e=>`<a href="${r}/?categoria=${(e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,""))(e)}">${e}</a>`)).join(", "),c=document.createElement("DIV");c.classList.add("col-12"),c.innerHTML=`<p>\n            <a href="${n}"><i class="bi bi-house-fill"></i> Inicio</a> <i class="bi bi-caret-right-fill"></i> \n            <a href="${r}">${pageTitle}</a> <i class="bi bi-caret-right-fill"></i> \n            ${a} <i class="bi bi-caret-right-fill"></i> \n            ${e.nombre}\n        </p>`,t.appendChild(c)},l=async e=>{try{await o(e),(0,r.handleProductoSeleccionado)(),(0,r.handleVinil)(),await(0,r.handlePeluches)()}catch(e){console.error("Error initializing mostrador:",e)}};"single-page"===document.body.id&&("globos"===t?l(n.fetchArreglos):"gigantes"===t?l(n.fetchGigantes):"helio"===t?l(n.fetchHelios):"flores"===t?l(n.fetchFlores):l())}))},function(){document.addEventListener("subcategorias-loaded",(()=>{const e=new URLSearchParams(window.location.search),t=e.get("categoria");if(t){const e=document.querySelector(`button[data-parametro="${t}"]`);if(e){new bootstrap.Tab(e).show()}else console.log("No se encontró el botón de tab para la subcategoría: "+t)}document.querySelectorAll("#tab-subcategorias button").forEach((t=>{t.addEventListener("click",(()=>{const o=t.getAttribute("data-parametro");e.set("categoria",o),window.history.replaceState(null,"",`?${e.toString()}`)}))}))}))},function(){var e=document.querySelector("#slider-principal");new bootstrap.Carousel(e,{interval:5e3,wrap:!0})}],t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};!function(){"use strict";o.r(n);o(1),o(3),o(5),o(6),o(7),o(8),o(9)}()}();