!function(){var e=[,function(e,t,r){"use strict";r.r(t);var o=r(2);async function a(e,t,r){try{const o=await fetch(e),a=await o.text();document.getElementById(t).innerHTML=a,r&&r()}catch(e){console.error(`Error loading component ${t}:`,e)}}document.addEventListener("DOMContentLoaded",(async()=>{try{await async function(){try{const e=await fetch("./parts/head.html");let t=await e.text();t="undefined"!=typeof pageTitle?t.replace("{{pageTitle}}",pageTitle):t.replace("{{pageTitle}}",""),document.head.innerHTML+=t}catch(e){throw console.error("Error loading head:",e),e}}(),await Promise.all([a("./parts/banner-top.html","banner-top"),a("./parts/nav.html","navegador",o.setActiveNavLink),a("./parts/pasos-compra.html","pasos-compra"),a("./parts/footer.html","footer")]),document.body.classList.contains("index")}catch(e){console.error("Error loading head or components:",e)}finally{setTimeout((()=>{document.getElementById("main").style.display=""}),300)}}))},function(e,t,r){"use strict";function o(){const e=document.querySelectorAll(".navlista a"),t=window.location.pathname;e.forEach((e=>{e.getAttribute("href")==="."+t&&e.classList.add("active")}))}function a(e){Object.keys(e).forEach((t=>{e[t].sort(((e,t)=>parseFloat(e.precio.replace("S/.","").trim())-parseFloat(t.precio.replace("S/.","").trim())))}))}function c(e,t,r,o,a,c){let n="https://api.whatsapp.com/send?phone=51940541547&text=";n+="Quiero%20adquirir%20el%20producto:",n+=`%0ANombre:%20${e}`,n+=`%20(${t}).`,n+=`%0APeluche:%20${r}(SKU:${o})`,n+=`%0APrecio%20Total:%20${a}`,c.href=n}function n(){const e=document.querySelectorAll(".modal-contenido"),t=document.querySelectorAll(".modal-video");e.forEach((e=>{0===e.querySelector("ul").children.length&&(e.style.display="none")})),t.forEach((e=>{const t=window.location,r=e.querySelector(".video-enlace").getAttribute("href");r&&r!==t&&""!==r||(e.style.display="none")}))}r.r(t),r.d(t,{hideEmptyModals:function(){return n},orderPrice:function(){return a},setActiveNavLink:function(){return o},whatsappUlr:function(){return c}})},function(e,t,r){"use strict";r.r(t);var o=r(4),a=r(2);document.addEventListener("DOMContentLoaded",(()=>{if(!document.getElementById("mostrador"))return;const e={globos:[],gigantes:[],flores:[],helio:[]};(async()=>{try{const t=await(async()=>{try{const e=await fetch("./parts/grilla-tabs.html");return await e.text()}catch(e){throw console.error("Error fetching grilla-tabs.html:",e),e}})();await(async t=>{try{(await(0,o.fetchProducts)()).forEach((t=>{t.destacado&&e[t.categoria].push(t)})),(0,a.orderPrice)(e),Object.keys(e).forEach((t=>{e[t]=e[t].slice(0,4)}));const r=document.querySelector("#globos .productos"),c=document.querySelector("#gigantes .productos"),n=document.querySelector("#flores .productos"),i=document.querySelector("#helio .productos");return Object.keys(e).forEach((o=>{e[o].forEach(((e,a)=>{let l=e.contenido.length>0?e.contenido.map((e=>`<li>${e}</li>`)).join(""):"",s=t.replace(/{{cols}}/g,"col-xxl-3 col-xl-4 col-lg-4 col-md-6 col-12").replace(/{{imagen}}/g,e.imagen).replace(/{{nombre}}/g,e.nombre).replace(/{{precio}}/g,e.precio).replace(/{{video}}/g,e.video).replace(/{{descripcion}}/g,e.descripcion).replace(/{{contenido}}/g,l).replace(/{{index}}/g,e.categoria+a).replace(/{{sku}}/g,e.sku);switch(o){case"globos":r.innerHTML+=s;break;case"gigantes":c.innerHTML+=s;break;case"flores":n.innerHTML+=s;break;case"helio":i.innerHTML+=s}}))})),document.querySelectorAll(".modal").forEach((e=>{new bootstrap.Modal(e)})),e}catch(e){throw console.error("Error processing products:",e),e}})(t),(0,a.hideEmptyModals)(),await(async()=>{try{const e=await(0,o.fetchPeluches)();document.querySelectorAll(".modal").forEach((t=>{const r=t.id.replace("productModal",""),o=document.getElementById(`productModalLabel${r}`).querySelector("h5"),c=document.getElementById(`productModalLabel${r}`).querySelector(".sku"),n=document.getElementById(`modal-pedido${r}`).querySelector("a"),i=document.getElementById(`modal-precio${r}`),l=document.getElementById(`modal-peluches${r}`).querySelector(".carousel-inner");let s="";e.forEach(((t,r)=>{r%2==0&&(r>0&&(s+="</div>"),s+=`<div class="row carousel-item ${0===r?"active":""}">`),s+=`\n                        <div class="col-6 peluche" data-id="${t.sku}" data-precio="${t.precio}" data-nombre="Peluche ${t.nombre}" data-sku="${t.sku}">\n                            <img src="${t.imagen}" class="d-block w-100" alt="${t.nombre}">\n                            <div class="info-peluche">\n                                <h5 class="nombre">${t.nombre}</h5>\n                                <p class="precio">${t.precio}</p>\n                                <p class="tamanio">Medidas:<br /> ${t.altura}</p>\n                                <button class="select-peluche">Agregar</button>\n                            </div>\n                        </div>\n                    `,r===e.length-1&&(s+="</div>")})),l.innerHTML=s;const d=l.querySelectorAll(".peluche");d.forEach((e=>{e.addEventListener("click",(()=>{const t=e.dataset.precio,r=parseFloat(t.replace("S/.","").trim())+parseFloat(i.dataset.precio.replace("S/.","").trim()),l=e.querySelector(".select-peluche");l.classList.contains("active")?(i.innerText=`${i.dataset.precio}`,l.classList.remove("active"),l.innerText="Agregar"):(d.forEach((e=>{const t=e.querySelector(".select-peluche");t.classList.remove("active"),t.innerText="Agregar"})),i.innerText=`S/.${r.toFixed(2)}`,l.classList.add("active"),l.innerText="Agregado"),(0,a.whatsappUlr)(o.innerText,c.innerText,e.dataset.nombre,e.dataset.sku,i.innerText,n)}))}))}))}catch(e){console.error("Error fetching peluches:",e)}})()}catch(e){console.error("Error initializing mostrador:",e)}})()}))},function(e,t,r){"use strict";async function o(e,t){const r=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/1UeRsfG_I1Ai27zZuWNzL4CYHdP9gzCd49Sz1IkNBtmE/values/${e}!${t}?key=AIzaSyB0wl-sQaS72bOzVKBbsdgPKMK9_IYlUWA`);return(await r.json()).values.slice(1)}function a(e){if(e.includes("drive.google.com/file/d/")){return`https://drive.google.com/thumbnail?id=${e.match(/\/d\/(.*?)\//)[1]}&sz=w1000`}return e}function c(e){return{id:e[0],imagen:e[1],nombre:e[2],precio:e[3],descripcion:e[4],contenido:e[5]?e[5].split("; "):[],video:e[6]||"",categoria:e[7]?e[7].split("; "):[],subcategorias:e[8]?e[8].split("; "):[],sku:e[9],destacado:!!e[10]&&"true"===e[10].toLowerCase()}}function n(e){return{id:e[0],imagen:a(e[1]),precio:e[2],nombre:e[3],altura:e[4],sku:e[5]}}async function i(){return(await o("Productos","A:K")).map(c).filter((e=>e.id))}async function l(){return(await o("Peluches","A:F")).map(n).filter((e=>e.id))}r.r(t),r.d(t,{fetchPeluches:function(){return l},fetchProducts:function(){return i}})},function(e,t,r){"use strict";r.r(t);var o=r(4),a=r(2);document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("catalogo");if(!e)return;const t=e.dataset.categoria;(async()=>{try{const e=await(async()=>{try{const e=await fetch("./parts/grilla-tabs.html");return await e.text()}catch(e){throw console.error("Error fetching grilla-tabs.html:",e),e}})();await(async e=>{try{const r=await(0,o.fetchProducts)(),c={};r.filter((e=>e.categoria.includes(t))).forEach((e=>{e.subcategorias.forEach((t=>{c[t]||(c[t]=[]),c[t].push(e)}))})),(0,a.orderPrice)(c);const n=Object.keys(c).sort(),i=document.getElementById("tab-subcategorias"),l=document.getElementById("content-subcategorias");return n.forEach(((t,r)=>{const o=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,""),a=`subcategoria-${t.replace(/\s+/g,"-").toLowerCase()}`,n=0===r,s=n?"active":"",d=document.createElement("li");d.classList.add("nav-item"),d.innerHTML=`\n                    <button class="nav-link ${s}" id="${a}-tab" data-bs-toggle="pill"\n                        data-bs-target="#${a}" data-parametro="${o}" type="button" role="tab" aria-controls="${a}"\n                        aria-selected="${n}"><i class="bi bi-arrow-right-short"></i> ${t}</button>\n                `,i.appendChild(d);const u=document.createElement("div");u.classList.add("tab-pane","fade"),n&&u.classList.add("show","active"),u.id=a,u.setAttribute("role","tabpanel"),u.setAttribute("aria-labelledby",`${a}-tab`),u.setAttribute("tabindex","0");const p=document.createElement("div");p.classList.add("row","productos"),u.appendChild(p),l.appendChild(u),c[t].forEach(((r,o)=>{const a=r.contenido.length>0?r.contenido.map((e=>`<li>${e}</li>`)).join(""):"",c=e.replace(/{{cols}}/g,"col-xl-4 col-lg-4 col-md-6 col-12").replace(/{{imagen}}/g,r.imagen).replace(/{{nombre}}/g,r.nombre).replace(/{{precio}}/g,r.precio).replace(/{{video}}/g,r.video).replace(/{{descripcion}}/g,r.descripcion).replace(/{{contenido}}/g,a).replace(/{{index}}/g,`${t.replace(/\s+/g,"-").toLowerCase()}-${o}`).replace(/{{sku}}/g,r.sku);p.innerHTML+=c}))})),document.querySelectorAll(".modal").forEach((e=>new bootstrap.Modal(e))),c}catch(e){throw console.error("Error processing products:",e),e}})(e),(()=>{const e=new Event("subcategorias-loaded");document.dispatchEvent(e)})(),(0,a.hideEmptyModals)(),await(async()=>{try{const e=await(0,o.fetchPeluches)();document.querySelectorAll(".modal").forEach((t=>{const r=t.id.replace("productModal",""),o=document.getElementById(`productModalLabel${r}`).querySelector("h5"),c=document.getElementById(`productModalLabel${r}`).querySelector(".sku"),n=document.getElementById(`modal-pedido${r}`).querySelector("a"),i=document.getElementById(`modal-precio${r}`),l=document.getElementById(`modal-peluches${r}`).querySelector(".carousel-inner");let s="";e.forEach(((t,r)=>{r%2==0&&(r>0&&(s+="</div>"),s+=`<div class="row carousel-item ${0===r?"active":""}">`),s+=`\n                        <div class="col-6 peluche" data-id="${t.sku}" data-precio="${t.precio}" data-nombre="Peluche ${t.nombre}" data-sku="${t.sku}">\n                            <img src="${t.imagen}" class="d-block w-100" alt="${t.nombre}">\n                            <div class="info-peluche">\n                                <h5 class="nombre">${t.nombre}</h5>\n                                <p class="precio">${t.precio}</p>\n                                <p class="tamanio">Medidas:<br /> ${t.altura}</p>\n                                <button class="select-peluche">Agregar</button>\n                            </div>\n                        </div>\n                    `,r===e.length-1&&(s+="</div>")})),l.innerHTML=s;const d=l.querySelectorAll(".peluche");d.forEach((e=>{e.addEventListener("click",(()=>{const t=e.dataset.precio,r=parseFloat(t.replace("S/.","").trim())+parseFloat(i.dataset.precio.replace("S/.","").trim()),l=e.querySelector(".select-peluche");l.classList.contains("active")?(i.innerText=`${i.dataset.precio}`,l.classList.remove("active"),l.innerText="Agregar"):(d.forEach((e=>{const t=e.querySelector(".select-peluche");t.classList.remove("active"),t.innerText="Agregar"})),i.innerText=`S/.${r.toFixed(2)}`,l.classList.add("active"),l.innerText="Agregado"),(0,a.whatsappUlr)(o.innerText,c.innerText,e.dataset.nombre,e.dataset.sku,i.innerText,n)}))}))}))}catch(e){console.error("Error fetching peluches:",e)}})()}catch(e){console.error("Error initializing catalog:",e)}})()}))},function(){document.addEventListener("subcategorias-loaded",(()=>{const e=new URLSearchParams(window.location.search),t=e.get("categoria");if(t){const e=document.querySelector(`button[data-parametro="${t}"]`);if(e){new bootstrap.Tab(e).show()}else console.log("No se encontró el botón de tab para la subcategoría: "+t)}document.querySelectorAll("#tab-subcategorias button").forEach((t=>{t.addEventListener("click",(()=>{const r=t.getAttribute("data-parametro");e.set("categoria",r),window.history.replaceState(null,"",`?${e.toString()}`)}))}))}))},function(){var e=document.querySelector("#slider-principal");new bootstrap.Carousel(e,{interval:5e3,wrap:!0})}],t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var c=t[o]={exports:{}};return e[o](c,c.exports,r),c.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};!function(){"use strict";r.r(o);r(1),r(3),r(5),r(6),r(7)}()}();